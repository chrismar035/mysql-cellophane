<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: Mysql</title>

	<link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="./mysql_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="mysql.rb">mysql.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			
			<div id="namespace-list-section" class="section">
				<h3 class="section-header">Namespace</h3>
				<ul class="link-list">
					
					<li><span class="type">CLASS</span> <a href="Mysql/Error.html">Mysql::Error</a></li>
					
					<li><span class="type">CLASS</span> <a href="Mysql/Field.html">Mysql::Field</a></li>
					
					<li><span class="type">CLASS</span> <a href="Mysql/Net.html">Mysql::Net</a></li>
					
					<li><span class="type">CLASS</span> <a href="Mysql/Random.html">Mysql::Random</a></li>
					
					<li><span class="type">CLASS</span> <a href="Mysql/Result.html">Mysql::Result</a></li>
					
				</ul>
			</div>
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-client_info">::client_info</a></li>
					
					<li><a href="#method-c-connect">::connect</a></li>
					
					<li><a href="#method-c-debug">::debug</a></li>
					
					<li><a href="#method-c-escape_string">::escape_string</a></li>
					
					<li><a href="#method-c-finalizer">::finalizer</a></li>
					
					<li><a href="#method-c-get_client_info">::get_client_info</a></li>
					
					<li><a href="#method-c-init">::init</a></li>
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-c-quote">::quote</a></li>
					
					<li><a href="#method-c-real_connect">::real_connect</a></li>
					
					<li><a href="#method-i-change_user">#change_user</a></li>
					
					<li><a href="#method-i-character_set_name">#character_set_name</a></li>
					
					<li><a href="#method-i-client_info">#client_info</a></li>
					
					<li><a href="#method-i-close">#close</a></li>
					
					<li><a href="#method-i-command">#command</a></li>
					
					<li><a href="#method-i-connect">#connect</a></li>
					
					<li><a href="#method-i-create_db">#create_db</a></li>
					
					<li><a href="#method-i-drop_db">#drop_db</a></li>
					
					<li><a href="#method-i-dump_debug_info">#dump_debug_info</a></li>
					
					<li><a href="#method-i-error">#error</a></li>
					
					<li><a href="#method-i-escape_string">#escape_string</a></li>
					
					<li><a href="#method-i-get_client_info">#get_client_info</a></li>
					
					<li><a href="#method-i-get_host_info">#get_host_info</a></li>
					
					<li><a href="#method-i-get_length">#get_length</a></li>
					
					<li><a href="#method-i-get_proto_info">#get_proto_info</a></li>
					
					<li><a href="#method-i-get_server_info">#get_server_info</a></li>
					
					<li><a href="#method-i-hash_password">#hash_password</a></li>
					
					<li><a href="#method-i-host_info">#host_info</a></li>
					
					<li><a href="#method-i-inspect">#inspect</a></li>
					
					<li><a href="#method-i-kill">#kill</a></li>
					
					<li><a href="#method-i-list_dbs">#list_dbs</a></li>
					
					<li><a href="#method-i-list_fields">#list_fields</a></li>
					
					<li><a href="#method-i-list_processes">#list_processes</a></li>
					
					<li><a href="#method-i-list_tables">#list_tables</a></li>
					
					<li><a href="#method-i-options">#options</a></li>
					
					<li><a href="#method-i-ping">#ping</a></li>
					
					<li><a href="#method-i-proto_info">#proto_info</a></li>
					
					<li><a href="#method-i-query">#query</a></li>
					
					<li><a href="#method-i-quote">#quote</a></li>
					
					<li><a href="#method-i-read">#read</a></li>
					
					<li><a href="#method-i-read_one_row">#read_one_row</a></li>
					
					<li><a href="#method-i-read_query_result">#read_query_result</a></li>
					
					<li><a href="#method-i-read_rows">#read_rows</a></li>
					
					<li><a href="#method-i-real_connect">#real_connect</a></li>
					
					<li><a href="#method-i-real_query">#real_query</a></li>
					
					<li><a href="#method-i-refresh">#refresh</a></li>
					
					<li><a href="#method-i-reload">#reload</a></li>
					
					<li><a href="#method-i-scramble">#scramble</a></li>
					
					<li><a href="#method-i-select_db">#select_db</a></li>
					
					<li><a href="#method-i-server_info">#server_info</a></li>
					
					<li><a href="#method-i-shutdown">#shutdown</a></li>
					
					<li><a href="#method-i-skip_result">#skip_result</a></li>
					
					<li><a href="#method-i-stat">#stat</a></li>
					
					<li><a href="#method-i-store_result">#store_result</a></li>
					
					<li><a href="#method-i-unpack_fields">#unpack_fields</a></li>
					
					<li><a href="#method-i-use_result">#use_result</a></li>
					
					<li><a href="#method-i-write">#write</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./Mysql.html">Mysql</a></li>
				
					<li><a href="./Mysql/Error.html">Mysql::Error</a></li>
				
					<li><a href="./Mysql/Error.html">Mysql::Error</a></li>
				
					<li><a href="./Mysql/Field.html">Mysql::Field</a></li>
				
					<li><a href="./Mysql/Field.html">Mysql::Field</a></li>
				
					<li><a href="./Mysql/Net.html">Mysql::Net</a></li>
				
					<li><a href="./Mysql/Random.html">Mysql::Random</a></li>
				
					<li><a href="./Mysql/Result.html">Mysql::Result</a></li>
				
					<li><a href="./Mysql/Result.html">Mysql::Result</a></li>
				
					<li><a href="./MySQLc.html">MySQLc</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">Mysql</h1>

		<div id="description">
			<p>
$Id: <a href="mysql_rb.html">mysql.rb</a>,v 1.24 2005/02/12 11:37:15 tommy
Exp $
</p>
<p>
Copyright (C) 2003-2005 TOMITA Masahiro tommy@tmtm.org
</p>

		</div>

		<!-- Constants -->
		
		<div id="constants-list" class="section">
			<h3 class="section-header">Constants</h3>
			<dl>
			
				<dt><a name="VERSION">VERSION</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="MAX_PACKET_LENGTH">MAX_PACKET_LENGTH</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="MAX_ALLOWED_PACKET">MAX_ALLOWED_PACKET</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="MYSQL_UNIX_ADDR">MYSQL_UNIX_ADDR</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="MYSQL_PORT">MYSQL_PORT</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="PROTOCOL_VERSION">PROTOCOL_VERSION</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_SLEEP">COM_SLEEP</a></dt>
				
				<dd class="description"><p>
Command
</p></dd>
				
			
				<dt><a name="COM_QUIT">COM_QUIT</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_INIT_DB">COM_INIT_DB</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_QUERY">COM_QUERY</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_FIELD_LIST">COM_FIELD_LIST</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_CREATE_DB">COM_CREATE_DB</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_DROP_DB">COM_DROP_DB</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_REFRESH">COM_REFRESH</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_SHUTDOWN">COM_SHUTDOWN</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_STATISTICS">COM_STATISTICS</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_PROCESS_INFO">COM_PROCESS_INFO</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_CONNECT">COM_CONNECT</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_PROCESS_KILL">COM_PROCESS_KILL</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_DEBUG">COM_DEBUG</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_PING">COM_PING</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_TIME">COM_TIME</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_DELAYED_INSERT">COM_DELAYED_INSERT</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_CHANGE_USER">COM_CHANGE_USER</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_BINLOG_DUMP">COM_BINLOG_DUMP</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_TABLE_DUMP">COM_TABLE_DUMP</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_CONNECT_OUT">COM_CONNECT_OUT</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COM_REGISTER_SLAVE">COM_REGISTER_SLAVE</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_LONG_PASSWORD">CLIENT_LONG_PASSWORD</a></dt>
				
				<dd class="description"><p>
Client flag
</p></dd>
				
			
				<dt><a name="CLIENT_FOUND_ROWS">CLIENT_FOUND_ROWS</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_LONG_FLAG">CLIENT_LONG_FLAG</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_CONNECT_WITH_DB">CLIENT_CONNECT_WITH_DB</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_NO_SCHEMA">CLIENT_NO_SCHEMA</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_COMPRESS">CLIENT_COMPRESS</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_ODBC">CLIENT_ODBC</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_LOCAL_FILES">CLIENT_LOCAL_FILES</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_IGNORE_SPACE">CLIENT_IGNORE_SPACE</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_INTERACTIVE">CLIENT_INTERACTIVE</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_SSL">CLIENT_SSL</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_IGNORE_SIGPIPE">CLIENT_IGNORE_SIGPIPE</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_TRANSACTIONS">CLIENT_TRANSACTIONS</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLIENT_CAPABILITIES">CLIENT_CAPABILITIES</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="OPT_CONNECT_TIMEOUT">OPT_CONNECT_TIMEOUT</a></dt>
				
				<dd class="description"><p>
Connection Option
</p></dd>
				
			
				<dt><a name="OPT_COMPRESS">OPT_COMPRESS</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="OPT_NAMED_PIPE">OPT_NAMED_PIPE</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="INIT_COMMAND">INIT_COMMAND</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="READ_DEFAULT_FILE">READ_DEFAULT_FILE</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="READ_DEFAULT_GROUP">READ_DEFAULT_GROUP</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="SET_CHARSET_DIR">SET_CHARSET_DIR</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="SET_CHARSET_NAME">SET_CHARSET_NAME</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="OPT_LOCAL_INFILE">OPT_LOCAL_INFILE</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="SERVER_STATUS_IN_TRANS">SERVER_STATUS_IN_TRANS</a></dt>
				
				<dd class="description"><p>
Server Status
</p></dd>
				
			
				<dt><a name="SERVER_STATUS_AUTOCOMMIT">SERVER_STATUS_AUTOCOMMIT</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="REFRESH_GRANT">REFRESH_GRANT</a></dt>
				
				<dd class="description"><p>
Refresh parameter
</p></dd>
				
			
				<dt><a name="REFRESH_LOG">REFRESH_LOG</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="REFRESH_TABLES">REFRESH_TABLES</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="REFRESH_HOSTS">REFRESH_HOSTS</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="REFRESH_STATUS">REFRESH_STATUS</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="REFRESH_THREADS">REFRESH_THREADS</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="REFRESH_SLAVE">REFRESH_SLAVE</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="REFRESH_MASTER">REFRESH_MASTER</a></dt>
				
				<dd class="description"></dd>
				
			
			</dl>
		</div>
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="info-attribute-method" class="method-detail">
				<a name="info"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">info</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="insert-id-attribute-method" class="method-detail">
				<a name="insert_id"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">insert_id</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="affected-rows-attribute-method" class="method-detail">
				<a name="affected_rows"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">affected_rows</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="field-count-attribute-method" class="method-detail">
				<a name="field_count"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">field_count</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="thread-id-attribute-method" class="method-detail">
				<a name="thread_id"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">thread_id</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="query-with-result-attribute-method" class="method-detail">
				<a name="query_with_result"></a>
				
				<a name="query_with_result="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">query_with_result</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="status-attribute-method" class="method-detail">
				<a name="status"></a>
				
				<a name="status="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">status</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="client-info-method" class="method-detail method-alias">
				<a name="method-c-client_info"></a>

				<div class="method-heading">
				
					<span class="method-name">client_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Mysql.html#method-c-get_client_info">get_client_info</a>
				</div>
				
			</div>

		
			<div id="connect-method" class="method-detail method-alias">
				<a name="method-c-connect"></a>

				<div class="method-heading">
				
					<span class="method-name">connect</span><span
						class="method-args">(*args)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Mysql.html#method-c-real_connect">real_connect</a>
				</div>
				
			</div>

		
			<div id="debug-method" class="method-detail ">
				<a name="method-c-debug"></a>

				<div class="method-heading">
				
					<span class="method-name">debug</span><span
						class="method-args">(str)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="debug-source">
<pre>
      <span class="ruby-comment cmt"># File mysql.rb, line 1114</span>
1114:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">debug</span>(<span class="ruby-identifier">str</span>)
1115:     <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;not implemented&quot;</span>
1116:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="escape-string-method" class="method-detail ">
				<a name="method-c-escape_string"></a>

				<div class="method-heading">
				
					<span class="method-name">escape_string</span><span
						class="method-args">(str)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="escape-string-source">
<pre>
      <span class="ruby-comment cmt"># File mysql.rb, line 1096</span>
1096:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">escape_string</span>(<span class="ruby-identifier">str</span>)
1097:     <span class="ruby-identifier">str</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/([\00\\n\r\0032\'\&quot;\\])/</span>) <span class="ruby-keyword kw">do</span>
1098:       <span class="ruby-keyword kw">case</span> <span class="ruby-node">$1</span>
1099:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;\00&quot;&quot;</span> <span class="ruby-keyword kw">then</span> <span class="ruby-value str">&quot;\\0&quot;</span>
1100:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;\n&quot;</span> <span class="ruby-keyword kw">then</span> <span class="ruby-value str">&quot;\\n&quot;</span>
1101:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;\r&quot;</span> <span class="ruby-keyword kw">then</span> <span class="ruby-value str">&quot;\\r&quot;</span>
1102:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;\0032&quot;</span> <span class="ruby-keyword kw">then</span> <span class="ruby-value str">&quot;\\Z&quot;</span>
1103:       <span class="ruby-keyword kw">else</span> <span class="ruby-value str">&quot;\\&quot;</span><span class="ruby-operator">+</span><span class="ruby-node">$1</span>
1104:       <span class="ruby-keyword kw">end</span>
1105:     <span class="ruby-keyword kw">end</span>
1106:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Mysql.html#method-c-quote">quote</a>
				</div>
				

				
			</div>

		
			<div id="finalizer-method" class="method-detail ">
				<a name="method-c-finalizer"></a>

				<div class="method-heading">
				
					<span class="method-name">finalizer</span><span
						class="method-args">(net)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="finalizer-source">
<pre>
      <span class="ruby-comment cmt"># File mysql.rb, line 1089</span>
1089:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">finalizer</span>(<span class="ruby-identifier">net</span>)
1090:     <span class="ruby-identifier">proc</span> {
1091:       <span class="ruby-identifier">net</span>.<span class="ruby-identifier">clear</span>
1092:       <span class="ruby-identifier">net</span>.<span class="ruby-identifier">write</span> <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">COM_QUIT</span>.<span class="ruby-identifier">chr</span>
1093:     }
1094:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="get-client-info-method" class="method-detail ">
				<a name="method-c-get_client_info"></a>

				<div class="method-heading">
				
					<span class="method-name">get_client_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="get-client-info-source">
<pre>
      <span class="ruby-comment cmt"># File mysql.rb, line 1109</span>
1109:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_client_info</span>()
1110:     <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>
1111:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Mysql.html#method-c-client_info">client_info</a>
				</div>
				

				
			</div>

		
			<div id="init-method" class="method-detail ">
				<a name="method-c-init"></a>

				<div class="method-heading">
				
					<span class="method-name">init</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="init-source">
<pre>
      <span class="ruby-comment cmt"># File mysql.rb, line 1080</span>
1080:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">init</span>()
1081:     <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span> <span class="ruby-value">:INIT</span>
1082:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(*args)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
    <span class="ruby-comment cmt"># File mysql.rb, line 85</span>
85:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(*<span class="ruby-identifier">args</span>)
86:     <span class="ruby-ivar">@client_flag</span> = <span class="ruby-value">0</span>
87:     <span class="ruby-ivar">@max_allowed_packet</span> = <span class="ruby-constant">MAX_ALLOWED_PACKET</span>
88:     <span class="ruby-ivar">@query_with_result</span> = <span class="ruby-keyword kw">true</span>
89:     <span class="ruby-ivar">@status</span> = <span class="ruby-value">:STATUS_READY</span>
90:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">!=</span> <span class="ruby-value">:INIT</span> <span class="ruby-keyword kw">then</span>
91:       <span class="ruby-identifier">real_connect</span>(*<span class="ruby-identifier">args</span>)
92:     <span class="ruby-keyword kw">end</span>
93:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="quote-method" class="method-detail method-alias">
				<a name="method-c-quote"></a>

				<div class="method-heading">
				
					<span class="method-name">quote</span><span
						class="method-args">(str)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Mysql.html#method-c-escape_string">escape_string</a>
				</div>
				
			</div>

		
			<div id="real-connect-method" class="method-detail ">
				<a name="method-c-real_connect"></a>

				<div class="method-heading">
				
					<span class="method-name">real_connect</span><span
						class="method-args">(*args)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="real-connect-source">
<pre>
      <span class="ruby-comment cmt"># File mysql.rb, line 1084</span>
1084:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">real_connect</span>(*<span class="ruby-identifier">args</span>)
1085:     <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span>(*<span class="ruby-identifier">args</span>)
1086:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Mysql.html#method-c-connect">connect</a>
				</div>
				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="change-user-method" class="method-detail ">
				<a name="method-i-change_user"></a>

				<div class="method-heading">
				
					<span class="method-name">change_user</span><span
						class="method-args">(user="", passwd="", db="")</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="change-user-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 185</span>
185:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">change_user</span>(<span class="ruby-identifier">user</span>=<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">passwd</span>=<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">db</span>=<span class="ruby-value str">&quot;&quot;</span>)
186:     <span class="ruby-identifier">data</span> = <span class="ruby-identifier">user</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\00&quot;&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">scramble</span>(<span class="ruby-identifier">passwd</span>, <span class="ruby-ivar">@scramble_buff</span>, <span class="ruby-ivar">@protocol_version</span><span class="ruby-operator">==</span><span class="ruby-value">9</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;\00&quot;&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">db</span>
187:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_CHANGE_USER</span>, <span class="ruby-identifier">data</span>
188:     <span class="ruby-ivar">@user</span> = <span class="ruby-identifier">user</span>
189:     <span class="ruby-ivar">@passwd</span> = <span class="ruby-identifier">passwd</span>
190:     <span class="ruby-ivar">@db</span> = <span class="ruby-identifier">db</span>
191:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="character-set-name-method" class="method-detail ">
				<a name="method-i-character_set_name"></a>

				<div class="method-heading">
				
					<span class="method-name">character_set_name</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="character-set-name-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">character_set_name</span>()
194:     <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;not implemented&quot;</span>
195:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="client-info-method" class="method-detail method-alias">
				<a name="method-i-client_info"></a>

				<div class="method-heading">
				
					<span class="method-name">client_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Mysql.html#method-i-get_client_info">get_client_info</a>
				</div>
				
			</div>

		
			<div id="close-method" class="method-detail ">
				<a name="method-i-close"></a>

				<div class="method-heading">
				
					<span class="method-name">close</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="close-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close</span>()
198:     <span class="ruby-ivar">@status</span> = <span class="ruby-value">:STATUS_READY</span>
199:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_QUIT</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>
200:     <span class="ruby-ivar">@net</span>.<span class="ruby-identifier">close</span>
201:     <span class="ruby-keyword kw">self</span>
202:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="connect-method" class="method-detail method-alias">
				<a name="method-i-connect"></a>

				<div class="method-heading">
				
					<span class="method-name">connect</span><span
						class="method-args">(host=nil, user=nil, passwd=nil, db=nil, port=nil, socket=nil, flag=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Mysql.html#method-i-real_connect">real_connect</a>
				</div>
				
			</div>

		
			<div id="create-db-method" class="method-detail ">
				<a name="method-i-create_db"></a>

				<div class="method-heading">
				
					<span class="method-name">create_db</span><span
						class="method-args">(db)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="create-db-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 204</span>
204:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_db</span>(<span class="ruby-identifier">db</span>)
205:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_CREATE_DB</span>, <span class="ruby-identifier">db</span>
206:     <span class="ruby-keyword kw">self</span>
207:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="drop-db-method" class="method-detail ">
				<a name="method-i-drop_db"></a>

				<div class="method-heading">
				
					<span class="method-name">drop_db</span><span
						class="method-args">(db)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="drop-db-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 209</span>
209:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">drop_db</span>(<span class="ruby-identifier">db</span>)
210:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_DROP_DB</span>, <span class="ruby-identifier">db</span>
211:     <span class="ruby-keyword kw">self</span>
212:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="dump-debug-info-method" class="method-detail ">
				<a name="method-i-dump_debug_info"></a>

				<div class="method-heading">
				
					<span class="method-name">dump_debug_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="dump-debug-info-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 214</span>
214:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dump_debug_info</span>()
215:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_DEBUG</span>
216:     <span class="ruby-keyword kw">self</span>
217:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="escape-string-method" class="method-detail ">
				<a name="method-i-escape_string"></a>

				<div class="method-heading">
				
					<span class="method-name">escape_string</span><span
						class="method-args">(str)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="escape-string-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 136</span>
136:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">escape_string</span>(<span class="ruby-identifier">str</span>)
137:     <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-identifier">escape_string</span> <span class="ruby-identifier">str</span>
138:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Mysql.html#method-i-quote">quote</a>
				</div>
				

				
			</div>

		
			<div id="get-client-info-method" class="method-detail ">
				<a name="method-i-get_client_info"></a>

				<div class="method-heading">
				
					<span class="method-name">get_client_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="get-client-info-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 141</span>
141:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_client_info</span>()
142:     <span class="ruby-constant">VERSION</span>
143:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Mysql.html#method-i-client_info">client_info</a>
				</div>
				

				
			</div>

		
			<div id="get-host-info-method" class="method-detail ">
				<a name="method-i-get_host_info"></a>

				<div class="method-heading">
				
					<span class="method-name">get_host_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="get-host-info-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 219</span>
219:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_host_info</span>()
220:     <span class="ruby-ivar">@host_info</span>
221:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Mysql.html#method-i-host_info">host_info</a>
				</div>
				

				
			</div>

		
			<div id="get-proto-info-method" class="method-detail ">
				<a name="method-i-get_proto_info"></a>

				<div class="method-heading">
				
					<span class="method-name">get_proto_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="get-proto-info-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 224</span>
224:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_proto_info</span>()
225:     <span class="ruby-ivar">@protocol_version</span>
226:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Mysql.html#method-i-proto_info">proto_info</a>
				</div>
				

				
			</div>

		
			<div id="get-server-info-method" class="method-detail ">
				<a name="method-i-get_server_info"></a>

				<div class="method-heading">
				
					<span class="method-name">get_server_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="get-server-info-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 229</span>
229:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_server_info</span>()
230:     <span class="ruby-ivar">@server_version</span>
231:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Mysql.html#method-i-server_info">server_info</a>
				</div>
				

				
			</div>

		
			<div id="host-info-method" class="method-detail method-alias">
				<a name="method-i-host_info"></a>

				<div class="method-heading">
				
					<span class="method-name">host_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Mysql.html#method-i-get_host_info">get_host_info</a>
				</div>
				
			</div>

		
			<div id="inspect-method" class="method-detail ">
				<a name="method-i-inspect"></a>

				<div class="method-heading">
				
					<span class="method-name">inspect</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="inspect-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 338</span>
338:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>()
339:     <span class="ruby-node">&quot;#&lt;#{self.class}&gt;&quot;</span>
340:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="kill-method" class="method-detail ">
				<a name="method-i-kill"></a>

				<div class="method-heading">
				
					<span class="method-name">kill</span><span
						class="method-args">(id)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="kill-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 234</span>
234:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">kill</span>(<span class="ruby-identifier">id</span>)
235:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_PROCESS_KILL</span>, <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-identifier">int4str</span>(<span class="ruby-identifier">id</span>)
236:     <span class="ruby-keyword kw">self</span>
237:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="list-dbs-method" class="method-detail ">
				<a name="method-i-list_dbs"></a>

				<div class="method-heading">
				
					<span class="method-name">list_dbs</span><span
						class="method-args">(db=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="list-dbs-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 239</span>
239:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_dbs</span>(<span class="ruby-identifier">db</span>=<span class="ruby-keyword kw">nil</span>)
240:     <span class="ruby-identifier">real_query</span> <span class="ruby-node">&quot;show databases #{db}&quot;</span>
241:     <span class="ruby-ivar">@status</span> = <span class="ruby-value">:STATUS_READY</span>
242:     <span class="ruby-identifier">read_rows</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">flatten</span>
243:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="list-fields-method" class="method-detail ">
				<a name="method-i-list_fields"></a>

				<div class="method-heading">
				
					<span class="method-name">list_fields</span><span
						class="method-args">(table, field=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="list-fields-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 245</span>
245:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_fields</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">field</span>=<span class="ruby-keyword kw">nil</span>)
246:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_FIELD_LIST</span>, <span class="ruby-node">&quot;#{table}\00##{field}&quot;</span>, <span class="ruby-keyword kw">true</span>
247:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">read_rows</span> <span class="ruby-value">6</span>
248:     <span class="ruby-identifier">fields</span> = <span class="ruby-identifier">unpack_fields</span>(<span class="ruby-identifier">f</span>, <span class="ruby-ivar">@server_capabilities</span> &amp; <span class="ruby-constant">CLIENT_LONG_FLAG</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>)
249:     <span class="ruby-identifier">res</span> = <span class="ruby-constant">Result</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">fields</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">length</span>
250:     <span class="ruby-identifier">res</span>.<span class="ruby-identifier">eof</span> = <span class="ruby-keyword kw">true</span>
251:     <span class="ruby-identifier">res</span>
252:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="list-processes-method" class="method-detail ">
				<a name="method-i-list_processes"></a>

				<div class="method-heading">
				
					<span class="method-name">list_processes</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="list-processes-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 254</span>
254:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_processes</span>()
255:     <span class="ruby-identifier">data</span> = <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_PROCESS_INFO</span>
256:     <span class="ruby-ivar">@field_count</span> = <span class="ruby-identifier">get_length</span> <span class="ruby-identifier">data</span>
257:     <span class="ruby-identifier">fields</span> = <span class="ruby-identifier">read_rows</span> <span class="ruby-value">5</span>
258:     <span class="ruby-ivar">@fields</span> = <span class="ruby-identifier">unpack_fields</span>(<span class="ruby-identifier">fields</span>, <span class="ruby-ivar">@server_capabilities</span> &amp; <span class="ruby-constant">CLIENT_LONG_FLAG</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>)
259:     <span class="ruby-ivar">@status</span> = <span class="ruby-value">:STATUS_GET_RESULT</span>
260:     <span class="ruby-identifier">store_result</span>
261:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="list-tables-method" class="method-detail ">
				<a name="method-i-list_tables"></a>

				<div class="method-heading">
				
					<span class="method-name">list_tables</span><span
						class="method-args">(table=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="list-tables-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 263</span>
263:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_tables</span>(<span class="ruby-identifier">table</span>=<span class="ruby-keyword kw">nil</span>)
264:     <span class="ruby-identifier">real_query</span> <span class="ruby-node">&quot;show tables #{table}&quot;</span>
265:     <span class="ruby-ivar">@status</span> = <span class="ruby-value">:STATUS_READY</span>
266:     <span class="ruby-identifier">read_rows</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">flatten</span>
267:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="options-method" class="method-detail ">
				<a name="method-i-options"></a>

				<div class="method-heading">
				
					<span class="method-name">options</span><span
						class="method-args">(option, arg=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="options-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 146</span>
146:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">options</span>(<span class="ruby-identifier">option</span>, <span class="ruby-identifier">arg</span>=<span class="ruby-keyword kw">nil</span>)
147:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span> <span class="ruby-operator">==</span> <span class="ruby-constant">OPT_LOCAL_INFILE</span> <span class="ruby-keyword kw">then</span>
148:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">arg</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span>
149:         <span class="ruby-ivar">@client_flag</span> <span class="ruby-operator">&amp;=</span> <span class="ruby-operator">~</span><span class="ruby-constant">CLIENT_LOCAL_FILES</span>
150:       <span class="ruby-keyword kw">else</span>
151:         <span class="ruby-ivar">@client_flag</span> <span class="ruby-operator">|=</span> <span class="ruby-constant">CLIENT_LOCAL_FILES</span>
152:       <span class="ruby-keyword kw">end</span>
153:     <span class="ruby-keyword kw">else</span>
154:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;not implemented&quot;</span>
155:     <span class="ruby-keyword kw">end</span>
156:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="ping-method" class="method-detail ">
				<a name="method-i-ping"></a>

				<div class="method-heading">
				
					<span class="method-name">ping</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="ping-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 269</span>
269:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ping</span>()
270:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_PING</span>
271:     <span class="ruby-keyword kw">self</span>
272:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="proto-info-method" class="method-detail method-alias">
				<a name="method-i-proto_info"></a>

				<div class="method-heading">
				
					<span class="method-name">proto_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Mysql.html#method-i-get_proto_info">get_proto_info</a>
				</div>
				
			</div>

		
			<div id="query-method" class="method-detail ">
				<a name="method-i-query"></a>

				<div class="method-heading">
				
					<span class="method-name">query</span><span
						class="method-args">(query)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="query-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 274</span>
274:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query</span>(<span class="ruby-identifier">query</span>)
275:     <span class="ruby-identifier">real_query</span> <span class="ruby-identifier">query</span>
276:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@query_with_result</span> <span class="ruby-keyword kw">then</span>
277:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
278:     <span class="ruby-keyword kw">end</span>
279:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@field_count</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span>
280:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
281:     <span class="ruby-keyword kw">end</span>
282:     <span class="ruby-identifier">store_result</span>
283:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="quote-method" class="method-detail method-alias">
				<a name="method-i-quote"></a>

				<div class="method-heading">
				
					<span class="method-name">quote</span><span
						class="method-args">(str)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Mysql.html#method-i-escape_string">escape_string</a>
				</div>
				
			</div>

		
			<div id="read-one-row-method" class="method-detail ">
				<a name="method-i-read_one_row"></a>

				<div class="method-heading">
				
					<span class="method-name">read_one_row</span><span
						class="method-args">(field_count)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="read-one-row-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 313</span>
313:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read_one_row</span>(<span class="ruby-identifier">field_count</span>)
314:     <span class="ruby-identifier">data</span> = <span class="ruby-identifier">read</span>
315:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">data</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">254</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
316:     <span class="ruby-identifier">rec</span> = []
317:     <span class="ruby-identifier">field_count</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
318:       <span class="ruby-identifier">len</span> = <span class="ruby-identifier">get_length</span> <span class="ruby-identifier">data</span>
319:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">len</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">then</span>
320:         <span class="ruby-identifier">rec</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">len</span>
321:       <span class="ruby-keyword kw">else</span>
322:         <span class="ruby-identifier">rec</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>,<span class="ruby-identifier">len</span>)
323:       <span class="ruby-keyword kw">end</span>
324:     <span class="ruby-keyword kw">end</span>
325:     <span class="ruby-identifier">rec</span>
326:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="real-connect-method" class="method-detail ">
				<a name="method-i-real_connect"></a>

				<div class="method-heading">
				
					<span class="method-name">real_connect</span><span
						class="method-args">(host=nil, user=nil, passwd=nil, db=nil, port=nil, socket=nil, flag=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="real-connect-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 95</span>
 95:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">real_connect</span>(<span class="ruby-identifier">host</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">user</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">passwd</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">db</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">port</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">socket</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">flag</span>=<span class="ruby-keyword kw">nil</span>)
 96:     <span class="ruby-ivar">@server_status</span> = <span class="ruby-constant">SERVER_STATUS_AUTOCOMMIT</span>
 97:     <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">host</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;localhost&quot;</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">UNIXSocket</span> <span class="ruby-keyword kw">then</span>
 98:       <span class="ruby-identifier">unix_socket</span> = <span class="ruby-identifier">socket</span> <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;MYSQL_UNIX_PORT&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">MYSQL_UNIX_ADDR</span>
 99:       <span class="ruby-identifier">sock</span> = <span class="ruby-constant">UNIXSocket</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span>(<span class="ruby-identifier">unix_socket</span>)
100:       <span class="ruby-ivar">@host_info</span> = <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-identifier">err</span>(<span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">CR_LOCALHOST_CONNECTION</span>)
101:       <span class="ruby-ivar">@unix_socket</span> = <span class="ruby-identifier">unix_socket</span>
102:     <span class="ruby-keyword kw">else</span>      
103:       <span class="ruby-identifier">sock</span> = <span class="ruby-constant">TCPSocket</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span><span class="ruby-operator">||</span><span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;MYSQL_TCP_PORT&quot;</span>]<span class="ruby-operator">||</span>(<span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-identifier">getservbyname</span>(<span class="ruby-value str">&quot;mysql&quot;</span>,<span class="ruby-value str">&quot;tcp&quot;</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">MYSQL_PORT</span>))
104:       <span class="ruby-ivar">@host_info</span> = <span class="ruby-identifier">sprintf</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-identifier">err</span>(<span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">CR_TCP_CONNECTION</span>), <span class="ruby-identifier">host</span>
105:     <span class="ruby-keyword kw">end</span>
106:     <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">host</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">dup</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
107:     <span class="ruby-identifier">sock</span>.<span class="ruby-identifier">setsockopt</span> <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">SOL_SOCKET</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">SO_KEEPALIVE</span>, <span class="ruby-keyword kw">true</span>
108:     <span class="ruby-ivar">@net</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span> <span class="ruby-identifier">sock</span>
109: 
110:     <span class="ruby-identifier">a</span> = <span class="ruby-identifier">read</span>
111:     <span class="ruby-ivar">@protocol_version</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>)
112:     <span class="ruby-ivar">@server_version</span>, <span class="ruby-identifier">a</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/\00//</span>,<span class="ruby-value">2</span>)
113:     <span class="ruby-ivar">@thread_id</span>, <span class="ruby-ivar">@scramble_buff</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>,<span class="ruby-value">13</span>).<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">&quot;La8&quot;</span>)
114:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">2</span> <span class="ruby-keyword kw">then</span>
115:       <span class="ruby-ivar">@server_capabilities</span>, = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">&quot;v&quot;</span>)
116:     <span class="ruby-keyword kw">end</span>
117:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">16</span> <span class="ruby-keyword kw">then</span>
118:       <span class="ruby-ivar">@server_language</span>, <span class="ruby-ivar">@server_status</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">&quot;cv&quot;</span>)
119:     <span class="ruby-keyword kw">end</span>
120: 
121:     <span class="ruby-identifier">flag</span> = <span class="ruby-value">0</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">flag</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
122:     <span class="ruby-identifier">flag</span> <span class="ruby-operator">|=</span> <span class="ruby-ivar">@client_flag</span> <span class="ruby-operator">|</span> <span class="ruby-constant">CLIENT_CAPABILITIES</span>
123:     <span class="ruby-identifier">flag</span> <span class="ruby-operator">|=</span> <span class="ruby-constant">CLIENT_CONNECT_WITH_DB</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">db</span>
124:     <span class="ruby-identifier">data</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-identifier">int2str</span>(<span class="ruby-identifier">flag</span>)<span class="ruby-operator">+</span><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-identifier">int3str</span>(<span class="ruby-ivar">@max_allowed_packet</span>)<span class="ruby-operator">+</span>(<span class="ruby-identifier">user</span><span class="ruby-operator">||</span><span class="ruby-value str">&quot;&quot;</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;\00&quot;&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">scramble</span>(<span class="ruby-identifier">passwd</span>, <span class="ruby-ivar">@scramble_buff</span>, <span class="ruby-ivar">@protocol_version</span><span class="ruby-operator">==</span><span class="ruby-value">9</span>)
125:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">db</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@server_capabilities</span> &amp; <span class="ruby-constant">CLIENT_CONNECT_WITH_DB</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span>
126:       <span class="ruby-identifier">data</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;\00&quot;&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">db</span>
127:       <span class="ruby-ivar">@db</span> = <span class="ruby-identifier">db</span>.<span class="ruby-identifier">dup</span>
128:     <span class="ruby-keyword kw">end</span>
129:     <span class="ruby-identifier">write</span> <span class="ruby-identifier">data</span>
130:     <span class="ruby-identifier">read</span>
131:     <span class="ruby-constant">ObjectSpace</span>.<span class="ruby-identifier">define_finalizer</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-constant">Mysql</span>.<span class="ruby-identifier">finalizer</span>(<span class="ruby-ivar">@net</span>))
132:     <span class="ruby-keyword kw">self</span>
133:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Mysql.html#method-i-connect">connect</a>
				</div>
				

				
			</div>

		
			<div id="real-query-method" class="method-detail ">
				<a name="method-i-real_query"></a>

				<div class="method-heading">
				
					<span class="method-name">real_query</span><span
						class="method-args">(query)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="real-query-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 158</span>
158:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">real_query</span>(<span class="ruby-identifier">query</span>)
159:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_QUERY</span>, <span class="ruby-identifier">query</span>, <span class="ruby-keyword kw">true</span>
160:     <span class="ruby-identifier">read_query_result</span>
161:     <span class="ruby-keyword kw">self</span>
162:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="refresh-method" class="method-detail ">
				<a name="method-i-refresh"></a>

				<div class="method-heading">
				
					<span class="method-name">refresh</span><span
						class="method-args">(r)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="refresh-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 285</span>
285:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">refresh</span>(<span class="ruby-identifier">r</span>)
286:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_REFRESH</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">chr</span>
287:     <span class="ruby-keyword kw">self</span>
288:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="reload-method" class="method-detail ">
				<a name="method-i-reload"></a>

				<div class="method-heading">
				
					<span class="method-name">reload</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="reload-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 290</span>
290:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reload</span>()
291:     <span class="ruby-identifier">refresh</span> <span class="ruby-constant">REFRESH_GRANT</span>
292:     <span class="ruby-keyword kw">self</span>
293:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="select-db-method" class="method-detail ">
				<a name="method-i-select_db"></a>

				<div class="method-heading">
				
					<span class="method-name">select_db</span><span
						class="method-args">(db)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="select-db-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 295</span>
295:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select_db</span>(<span class="ruby-identifier">db</span>)
296:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_INIT_DB</span>, <span class="ruby-identifier">db</span>
297:     <span class="ruby-ivar">@db</span> = <span class="ruby-identifier">db</span>
298:     <span class="ruby-keyword kw">self</span>
299:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="server-info-method" class="method-detail method-alias">
				<a name="method-i-server_info"></a>

				<div class="method-heading">
				
					<span class="method-name">server_info</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Mysql.html#method-i-get_server_info">get_server_info</a>
				</div>
				
			</div>

		
			<div id="shutdown-method" class="method-detail ">
				<a name="method-i-shutdown"></a>

				<div class="method-heading">
				
					<span class="method-name">shutdown</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="shutdown-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 301</span>
301:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">shutdown</span>()
302:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_SHUTDOWN</span>
303:     <span class="ruby-keyword kw">self</span>
304:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="skip-result-method" class="method-detail ">
				<a name="method-i-skip_result"></a>

				<div class="method-heading">
				
					<span class="method-name">skip_result</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="skip-result-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 328</span>
328:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">skip_result</span>()
329:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@status</span> <span class="ruby-operator">==</span> <span class="ruby-value">:STATUS_USE_RESULT</span> <span class="ruby-keyword kw">then</span>
330:       <span class="ruby-identifier">loop</span> <span class="ruby-keyword kw">do</span>
331:         <span class="ruby-identifier">data</span> = <span class="ruby-identifier">read</span>
332:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">data</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">254</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
333:       <span class="ruby-keyword kw">end</span>
334:       <span class="ruby-ivar">@status</span> = <span class="ruby-value">:STATUS_READY</span>
335:     <span class="ruby-keyword kw">end</span>
336:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="stat-method" class="method-detail ">
				<a name="method-i-stat"></a>

				<div class="method-heading">
				
					<span class="method-name">stat</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="stat-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 306</span>
306:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stat</span>()
307:     <span class="ruby-identifier">command</span> <span class="ruby-constant">COM_STATISTICS</span>
308:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="store-result-method" class="method-detail ">
				<a name="method-i-store_result"></a>

				<div class="method-heading">
				
					<span class="method-name">store_result</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="store-result-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">store_result</span>()
174:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@status</span> <span class="ruby-operator">!=</span> <span class="ruby-value">:STATUS_GET_RESULT</span> <span class="ruby-keyword kw">then</span>
175:       <span class="ruby-identifier">error</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">CR_COMMANDS_OUT_OF_SYNC</span>
176:     <span class="ruby-keyword kw">end</span>
177:     <span class="ruby-ivar">@status</span> = <span class="ruby-value">:STATUS_READY</span>
178:     <span class="ruby-identifier">data</span> = <span class="ruby-identifier">read_rows</span> <span class="ruby-ivar">@field_count</span>
179:     <span class="ruby-identifier">res</span> = <span class="ruby-constant">Result</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>, <span class="ruby-ivar">@fields</span>, <span class="ruby-ivar">@field_count</span>, <span class="ruby-identifier">data</span>
180:     <span class="ruby-ivar">@fields</span> = <span class="ruby-keyword kw">nil</span>
181:     <span class="ruby-ivar">@affected_rows</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">length</span>
182:     <span class="ruby-identifier">res</span>
183:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="use-result-method" class="method-detail ">
				<a name="method-i-use_result"></a>

				<div class="method-heading">
				
					<span class="method-name">use_result</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="use-result-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 164</span>
164:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">use_result</span>()
165:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@status</span> <span class="ruby-operator">!=</span> <span class="ruby-value">:STATUS_GET_RESULT</span> <span class="ruby-keyword kw">then</span>
166:       <span class="ruby-identifier">error</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">CR_COMMANDS_OUT_OF_SYNC</span>
167:     <span class="ruby-keyword kw">end</span>
168:     <span class="ruby-identifier">res</span> = <span class="ruby-constant">Result</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>, <span class="ruby-ivar">@fields</span>, <span class="ruby-ivar">@field_count</span>
169:     <span class="ruby-ivar">@status</span> = <span class="ruby-value">:STATUS_USE_RESULT</span>
170:     <span class="ruby-identifier">res</span>
171:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="command-method" class="method-detail ">
				<a name="method-i-command"></a>

				<div class="method-heading">
				
					<span class="method-name">command</span><span
						class="method-args">(cmd, arg=nil, skip_check=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="command-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 428</span>
428:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">command</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">arg</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">skip_check</span>=<span class="ruby-keyword kw">nil</span>)
429:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@net</span> <span class="ruby-keyword kw">then</span>
430:       <span class="ruby-identifier">error</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">CR_SERVER_GONE_ERROR</span>
431:     <span class="ruby-keyword kw">end</span>
432:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@status</span> <span class="ruby-operator">!=</span> <span class="ruby-value">:STATUS_READY</span> <span class="ruby-keyword kw">then</span>
433:       <span class="ruby-identifier">error</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">CR_COMMANDS_OUT_OF_SYNC</span>
434:     <span class="ruby-keyword kw">end</span>
435:     <span class="ruby-ivar">@net</span>.<span class="ruby-identifier">clear</span>
436:     <span class="ruby-identifier">write</span> <span class="ruby-identifier">cmd</span>.<span class="ruby-identifier">chr</span><span class="ruby-operator">+</span>(<span class="ruby-identifier">arg</span><span class="ruby-operator">||</span><span class="ruby-value str">&quot;&quot;</span>)
437:     <span class="ruby-identifier">read</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">skip_check</span>
438:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="error-method" class="method-detail ">
				<a name="method-i-error"></a>

				<div class="method-heading">
				
					<span class="method-name">error</span><span
						class="method-args">(errno)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="error-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 493</span>
493:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">error</span>(<span class="ruby-identifier">errno</span>)
494:     <span class="ruby-ivar">@errno</span> = <span class="ruby-identifier">errno</span>
495:     <span class="ruby-ivar">@error</span> = <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-identifier">err</span> <span class="ruby-identifier">errno</span>
496:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span>(<span class="ruby-ivar">@errno</span>, <span class="ruby-ivar">@error</span>)
497:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="get-length-method" class="method-detail ">
				<a name="method-i-get_length"></a>

				<div class="method-heading">
				
					<span class="method-name">get_length</span><span
						class="method-args">(data, longlong=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="get-length-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 403</span>
403:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_length</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">longlong</span>=<span class="ruby-keyword kw">nil</span>)
404:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
405:     <span class="ruby-identifier">c</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>)
406:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">c</span>
407:     <span class="ruby-keyword kw">when</span> <span class="ruby-value">251</span>
408:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
409:     <span class="ruby-keyword kw">when</span> <span class="ruby-value">252</span>
410:       <span class="ruby-identifier">a</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>,<span class="ruby-value">2</span>)
411:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>]*<span class="ruby-value">256</span>
412:     <span class="ruby-keyword kw">when</span> <span class="ruby-value">253</span>
413:       <span class="ruby-identifier">a</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)
414:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>]*<span class="ruby-value">256</span><span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">2</span>]*<span class="ruby-value">256</span><span class="ruby-operator">**</span><span class="ruby-value">2</span>
415:     <span class="ruby-keyword kw">when</span> <span class="ruby-value">254</span>
416:       <span class="ruby-identifier">a</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>,<span class="ruby-value">8</span>)
417:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">longlong</span> <span class="ruby-keyword kw">then</span>
418:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>]*<span class="ruby-value">256</span><span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">2</span>]*<span class="ruby-value">256</span><span class="ruby-operator">**</span><span class="ruby-value">2</span><span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">3</span>]*<span class="ruby-value">256</span><span class="ruby-operator">**</span><span class="ruby-value">3</span><span class="ruby-operator">+</span>
419:           <span class="ruby-identifier">a</span>[<span class="ruby-value">4</span>]*<span class="ruby-value">256</span><span class="ruby-operator">**</span><span class="ruby-value">4</span><span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">5</span>]*<span class="ruby-value">256</span><span class="ruby-operator">**</span><span class="ruby-value">5</span><span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">6</span>]*<span class="ruby-value">256</span><span class="ruby-operator">**</span><span class="ruby-value">6</span><span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">7</span>]*<span class="ruby-value">256</span><span class="ruby-operator">**</span><span class="ruby-value">7</span>
420:       <span class="ruby-keyword kw">else</span>
421:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>]*<span class="ruby-value">256</span><span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">2</span>]*<span class="ruby-value">256</span><span class="ruby-operator">**</span><span class="ruby-value">2</span><span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">3</span>]*<span class="ruby-value">256</span><span class="ruby-operator">**</span><span class="ruby-value">3</span>
422:       <span class="ruby-keyword kw">end</span>
423:     <span class="ruby-keyword kw">else</span>
424:       <span class="ruby-identifier">c</span>
425:     <span class="ruby-keyword kw">end</span>
426:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="hash-password-method" class="method-detail ">
				<a name="method-i-hash_password"></a>

				<div class="method-heading">
				
					<span class="method-name">hash_password</span><span
						class="method-args">(password)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="hash-password-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 465</span>
465:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hash_password</span>(<span class="ruby-identifier">password</span>)
466:     <span class="ruby-identifier">nr</span> = <span class="ruby-value">1345345333</span>
467:     <span class="ruby-identifier">add</span> = <span class="ruby-value">7</span>
468:     <span class="ruby-identifier">nr2</span> = <span class="ruby-value">0x12345671</span>
469:     <span class="ruby-identifier">password</span>.<span class="ruby-identifier">each_byte</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
470:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0x20</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-value">9</span>
471:       <span class="ruby-identifier">nr</span> <span class="ruby-operator">^=</span> (((<span class="ruby-identifier">nr</span> &amp; <span class="ruby-value">63</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">add</span>) * <span class="ruby-identifier">i</span>) <span class="ruby-operator">+</span> (<span class="ruby-identifier">nr</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">8</span>)
472:       <span class="ruby-identifier">nr2</span> <span class="ruby-operator">+=</span> (<span class="ruby-identifier">nr2</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">8</span>) <span class="ruby-operator">^</span> <span class="ruby-identifier">nr</span>
473:       <span class="ruby-identifier">add</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">i</span>
474:     <span class="ruby-keyword kw">end</span>
475:     [<span class="ruby-identifier">nr</span> &amp; ((<span class="ruby-value">1</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">31</span>) <span class="ruby-operator">-</span> <span class="ruby-value">1</span>), <span class="ruby-identifier">nr2</span> &amp; ((<span class="ruby-value">1</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">31</span>) <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)]
476:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="read-method" class="method-detail ">
				<a name="method-i-read"></a>

				<div class="method-heading">
				
					<span class="method-name">read</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="read-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 440</span>
440:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read</span>()
441:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@net</span> <span class="ruby-keyword kw">then</span>
442:       <span class="ruby-identifier">error</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">CR_SERVER_GONE_ERROR</span>
443:     <span class="ruby-keyword kw">end</span>
444:     <span class="ruby-identifier">a</span> = <span class="ruby-ivar">@net</span>.<span class="ruby-identifier">read</span>
445:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">255</span> <span class="ruby-keyword kw">then</span>
446:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span> <span class="ruby-keyword kw">then</span>
447:         <span class="ruby-ivar">@errno</span> = <span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">2</span>]*<span class="ruby-value">256</span>
448:         <span class="ruby-ivar">@error</span> = <span class="ruby-identifier">a</span>[<span class="ruby-value">3</span> <span class="ruby-operator">..</span> <span class="ruby-value">1</span>]
449:       <span class="ruby-keyword kw">else</span>
450:         <span class="ruby-ivar">@errno</span> = <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">CR_UNKNOWN_ERROR</span>
451:         <span class="ruby-ivar">@error</span> = <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-identifier">err</span> <span class="ruby-ivar">@errno</span>
452:       <span class="ruby-keyword kw">end</span>
453:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span>(<span class="ruby-ivar">@errno</span>, <span class="ruby-ivar">@error</span>)
454:     <span class="ruby-keyword kw">end</span>
455:     <span class="ruby-identifier">a</span>
456:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="read-query-result-method" class="method-detail ">
				<a name="method-i-read_query_result"></a>

				<div class="method-heading">
				
					<span class="method-name">read_query_result</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="read-query-result-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 344</span>
344:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read_query_result</span>()
345:     <span class="ruby-identifier">data</span> = <span class="ruby-identifier">read</span>
346:     <span class="ruby-ivar">@field_count</span> = <span class="ruby-identifier">get_length</span>(<span class="ruby-identifier">data</span>)
347:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@field_count</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">then</span>         <span class="ruby-comment cmt"># LOAD DATA LOCAL INFILE</span>
348:       <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-identifier">open</span>(<span class="ruby-identifier">data</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
349:         <span class="ruby-identifier">write</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span>
350:       <span class="ruby-keyword kw">end</span>
351:       <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;&quot;</span>          <span class="ruby-comment cmt"># mark EOF</span>
352:       <span class="ruby-identifier">data</span> = <span class="ruby-identifier">read</span>
353:       <span class="ruby-ivar">@field_count</span> = <span class="ruby-identifier">get_length</span>(<span class="ruby-identifier">data</span>)
354:     <span class="ruby-keyword kw">end</span>
355:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@field_count</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span>
356:       <span class="ruby-ivar">@affected_rows</span> = <span class="ruby-identifier">get_length</span>(<span class="ruby-identifier">data</span>, <span class="ruby-keyword kw">true</span>)
357:       <span class="ruby-ivar">@insert_id</span> = <span class="ruby-identifier">get_length</span>(<span class="ruby-identifier">data</span>, <span class="ruby-keyword kw">true</span>)
358:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@server_capabilities</span> &amp; <span class="ruby-constant">CLIENT_TRANSACTIONS</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span>
359:         <span class="ruby-identifier">a</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>,<span class="ruby-value">2</span>)
360:         <span class="ruby-ivar">@server_status</span> = <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>]*<span class="ruby-value">256</span>
361:       <span class="ruby-keyword kw">end</span>
362:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">get_length</span>(<span class="ruby-identifier">data</span>) <span class="ruby-keyword kw">then</span>
363:         <span class="ruby-ivar">@info</span> = <span class="ruby-identifier">data</span>
364:       <span class="ruby-keyword kw">end</span>
365:     <span class="ruby-keyword kw">else</span>
366:       <span class="ruby-ivar">@extra_info</span> = <span class="ruby-identifier">get_length</span>(<span class="ruby-identifier">data</span>, <span class="ruby-keyword kw">true</span>)
367:       <span class="ruby-identifier">fields</span> = <span class="ruby-identifier">read_rows</span> <span class="ruby-value">5</span>
368:       <span class="ruby-ivar">@fields</span> = <span class="ruby-identifier">unpack_fields</span>(<span class="ruby-identifier">fields</span>, <span class="ruby-ivar">@server_capabilities</span> &amp; <span class="ruby-constant">CLIENT_LONG_FLAG</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>)
369:       <span class="ruby-ivar">@status</span> = <span class="ruby-value">:STATUS_GET_RESULT</span>
370:     <span class="ruby-keyword kw">end</span>
371:     <span class="ruby-keyword kw">self</span>
372:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="read-rows-method" class="method-detail ">
				<a name="method-i-read_rows"></a>

				<div class="method-heading">
				
					<span class="method-name">read_rows</span><span
						class="method-args">(field_count)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="read-rows-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 395</span>
395:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read_rows</span>(<span class="ruby-identifier">field_count</span>)
396:     <span class="ruby-identifier">ret</span> = []
397:     <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">rec</span> = <span class="ruby-identifier">read_one_row</span>(<span class="ruby-identifier">field_count</span>) <span class="ruby-keyword kw">do</span>
398:       <span class="ruby-identifier">ret</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">rec</span>
399:     <span class="ruby-keyword kw">end</span>
400:     <span class="ruby-identifier">ret</span>
401:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="scramble-method" class="method-detail ">
				<a name="method-i-scramble"></a>

				<div class="method-heading">
				
					<span class="method-name">scramble</span><span
						class="method-args">(password, message, old_ver)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="scramble-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 478</span>
478:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scramble</span>(<span class="ruby-identifier">password</span>, <span class="ruby-identifier">message</span>, <span class="ruby-identifier">old_ver</span>)
479:     <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">password</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">password</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
480:     <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;old version password is not implemented&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">old_ver</span>
481:     <span class="ruby-identifier">hash_pass</span> = <span class="ruby-identifier">hash_password</span> <span class="ruby-identifier">password</span>
482:     <span class="ruby-identifier">hash_message</span> = <span class="ruby-identifier">hash_password</span> <span class="ruby-identifier">message</span>
483:     <span class="ruby-identifier">rnd</span> = <span class="ruby-constant">Random</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span> <span class="ruby-identifier">hash_pass</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">^</span> <span class="ruby-identifier">hash_message</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">hash_pass</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">^</span> <span class="ruby-identifier">hash_message</span>[<span class="ruby-value">1</span>]
484:     <span class="ruby-identifier">to</span> = []
485:     <span class="ruby-value">1</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">message</span>.<span class="ruby-identifier">length</span>) <span class="ruby-keyword kw">do</span>
486:       <span class="ruby-identifier">to</span> <span class="ruby-operator">&lt;&lt;</span> ((<span class="ruby-identifier">rnd</span>.<span class="ruby-identifier">rnd</span>*<span class="ruby-value">31</span>)<span class="ruby-operator">+</span><span class="ruby-value">64</span>).<span class="ruby-identifier">floor</span>
487:     <span class="ruby-keyword kw">end</span>
488:     <span class="ruby-identifier">extra</span> = (<span class="ruby-identifier">rnd</span>.<span class="ruby-identifier">rnd</span>*<span class="ruby-value">31</span>).<span class="ruby-identifier">floor</span>
489:     <span class="ruby-identifier">to</span>.<span class="ruby-identifier">map!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">t</span> <span class="ruby-operator">^</span> <span class="ruby-identifier">extra</span>).<span class="ruby-identifier">chr</span> <span class="ruby-keyword kw">end</span>
490:     <span class="ruby-identifier">to</span>.<span class="ruby-identifier">join</span>
491:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="unpack-fields-method" class="method-detail ">
				<a name="method-i-unpack_fields"></a>

				<div class="method-heading">
				
					<span class="method-name">unpack_fields</span><span
						class="method-args">(data, long_flag_protocol)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="unpack-fields-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 374</span>
374:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_fields</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">long_flag_protocol</span>)
375:     <span class="ruby-identifier">ret</span> = []
376:     <span class="ruby-identifier">data</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
377:       <span class="ruby-identifier">table</span> = <span class="ruby-identifier">org_table</span> = <span class="ruby-identifier">f</span>[<span class="ruby-value">0</span>]
378:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">f</span>[<span class="ruby-value">1</span>]
379:       <span class="ruby-identifier">length</span> = <span class="ruby-identifier">f</span>[<span class="ruby-value">2</span>][<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">f</span>[<span class="ruby-value">2</span>][<span class="ruby-value">1</span>]*<span class="ruby-value">256</span><span class="ruby-operator">+</span><span class="ruby-identifier">f</span>[<span class="ruby-value">2</span>][<span class="ruby-value">2</span>]*<span class="ruby-value">256</span>*<span class="ruby-value">256</span>
380:       <span class="ruby-identifier">type</span> = <span class="ruby-identifier">f</span>[<span class="ruby-value">3</span>][<span class="ruby-value">0</span>]
381:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">long_flag_protocol</span> <span class="ruby-keyword kw">then</span>
382:         <span class="ruby-identifier">flags</span> = <span class="ruby-identifier">f</span>[<span class="ruby-value">4</span>][<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">f</span>[<span class="ruby-value">4</span>][<span class="ruby-value">1</span>]*<span class="ruby-value">256</span>
383:         <span class="ruby-identifier">decimals</span> = <span class="ruby-identifier">f</span>[<span class="ruby-value">4</span>][<span class="ruby-value">2</span>]
384:       <span class="ruby-keyword kw">else</span>
385:         <span class="ruby-identifier">flags</span> = <span class="ruby-identifier">f</span>[<span class="ruby-value">4</span>][<span class="ruby-value">0</span>]
386:         <span class="ruby-identifier">decimals</span> = <span class="ruby-identifier">f</span>[<span class="ruby-value">4</span>][<span class="ruby-value">1</span>]
387:       <span class="ruby-keyword kw">end</span>
388:       <span class="ruby-identifier">def_value</span> = <span class="ruby-identifier">f</span>[<span class="ruby-value">5</span>]
389:       <span class="ruby-identifier">max_length</span> = <span class="ruby-value">0</span>
390:       <span class="ruby-identifier">ret</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Field</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">org_table</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">length</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-identifier">decimals</span>, <span class="ruby-identifier">def_value</span>, <span class="ruby-identifier">max_length</span>)
391:     <span class="ruby-keyword kw">end</span>
392:     <span class="ruby-identifier">ret</span>
393:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="write-method" class="method-detail ">
				<a name="method-i-write"></a>

				<div class="method-heading">
				
					<span class="method-name">write</span><span
						class="method-args">(arg)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="write-source">
<pre>
     <span class="ruby-comment cmt"># File mysql.rb, line 458</span>
458:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>(<span class="ruby-identifier">arg</span>)
459:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@net</span> <span class="ruby-keyword kw">then</span>
460:       <span class="ruby-identifier">error</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">CR_SERVER_GONE_ERROR</span>
461:     <span class="ruby-keyword kw">end</span>
462:     <span class="ruby-ivar">@net</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">arg</span>
463:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

